<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Playdar.js</title>
        <meta name="description" content="Playdar.js is a JavaScript library for interacting with the Playdar HTTP API.">
        <meta name="keywords" content="playdar, javascript, api, http, music, content resolving, player, scrobbling">
        <link rel="stylesheet" href="/playdar.css">
    </head>
    <body>
        <h1>Playdar.js</h1>
        <p>Playdar.js is a JavaScript client library for interacting with the Playdar HTTP API.</p>
        <p>Hereâ€™s how you can use it to query Playdar for a specific track:</p>
        <form id="demo">
        <pre><code><span class="c">&lt;!-- Include the library --&gt;</span>
<span class="t">&lt;script src="<span class="a">playdar.js</span>"&gt;&lt;/script&gt;</span>
<span class="t">&lt;script&gt;</span>
    <span class="c">/* First, setup your client callbacks. */</span>
    Playdar.<span class="m">setupClient</span>({
        
        <span class="c">// This callback will be fired when the browser is authorised to query Playdar.</span>
        <span class="m">onAuth</span>: <span class="k">function</span> () {
            <span class="c">// At this point, we can query the Playdar API for a track and start polling for matches.</span>
            Playdar.client.<span class="m">resolve</span>('<span class="a"><input name="artist" value="Weezer"></span>', '<span class="a"><input name="track" value="Buddy Holly"></span>');
        },
        
        <span class="c">// This callback will be fired in response to each poll, and gets passed the results so far.</span>
        <span class="m">onResults</span>: <span class="k">function</span> (response, finalAnswer) {
            console.<span class="m">log</span>('<span class="a">Polling </span>' + response.qid);
            <span class="k">if</span> (finalAnswer) {
                <span class="c">// We only care about the final response.</span>
                console.<span class="m">dir</span>(response);
            }
        }
        
    });
    
    <span class="c">/* The client is now ready to check in with Playdar. */</span>
    Playdar.client.<span class="m"><input type="submit" value="go"></span>();
<span class="t">&lt;/script&gt;</span></code></pre>
    </form>
    
    <ol id="results"></ol>
    
    <script src="/jquery.js"></script>
    <script src="/playdar.js"></script>
    <script src="/demo.js"></script>
    </body>
</html>